# Usage: prompt text [Y | N | Q]
prompt() {
    local answer prompt default
    if [[ ${2^} = Q* ]]; then
        #say "$1"
        read -srn1 -p "$1" answer
        echo
        [[ ${answer,} = 'q' ]] && return 0 || return 1
    fi
    
    if [[ ! $2 || ${2^} = Y* ]]; then
        prompt='Y/n'
        default='Y'
    elif [[ ${2^} = N* ]]; then
        prompt='y/N'
        default='N'
    fi
    
    while true; do
        read -r -p "$1 [$prompt] " answer
        
        [[ ! $answer ]] &&
            answer=$default
        
        if [[ ${answer^} = Y* ]]; then
            say
            return 0
        elif [[ ${answer^} = N* ]]; then
            say
            return 1
        fi
    done
}

